// extglob@2.0.4 downloaded from https://ga.jspm.io/npm:extglob@2.0.4/index.js

import t from"extend-shallow";import r from"array-unique";import e from"to-regex";import a from"expand-brackets";import n from"define-property";import s from"regex-not";import i from"fragment-cache";import o from"snapdragon";var p={};var c=a;p=function(t){function star(){return"function"===typeof t.options.star?t.options.star.apply(this,arguments):"string"===typeof t.options.star?t.options.star:".*?"}t.use(c.compilers);t.compiler.set("escape",(function(t){return this.emit(t.val,t)})).set("dot",(function(t){return this.emit("\\"+t.val,t)})).set("qmark",(function(t){var r="[^\\\\/.]";var e=this.prev();if("("===t.parsed.slice(-1)){var a=t.rest.charAt(0);return"!"!==a&&"="!==a&&":"!==a?this.emit(r,t):this.emit(t.val,t)}if("text"===e.type&&e.val)return this.emit(r,t);t.val.length>1&&(r+="{"+t.val.length+"}");return this.emit(r,t)})).set("plus",(function(t){var r=t.parsed.slice(-1);if("]"===r||")"===r)return this.emit(t.val,t);var e=this.output.slice(-1);return!this.output||/[?*+]/.test(e)&&"bracket"!==t.parent.type?this.emit("\\+",t):/\w/.test(e)&&!t.inside?this.emit("+\\+?",t):this.emit("+",t)})).set("star",(function(t){var r=this.prev();var e="text"!==r.type&&"escape"!==r.type?"(?!\\.)":"";return this.emit(e+star.call(this,t),t)})).set("paren",(function(t){return this.mapVisit(t.nodes)})).set("paren.open",(function(t){var r=this.options.capture?"(":"";switch(t.parent.prefix){case"!":case"^":return this.emit(r+"(?:(?!(?:",t);case"*":case"+":case"?":case"@":return this.emit(r+"(?:",t);default:var e=t.val;true===this.options.bash?e="\\"+e:this.options.capture||"("!==e||"?"===t.parent.rest[0]||(e+="?:");return this.emit(e,t)}})).set("paren.close",(function(t){var r=this.options.capture?")":"";switch(t.prefix){case"!":case"^":var e=/^(\)|$)/.test(t.rest)?"$":"";var a=star.call(this,t);t.parent.hasSlash&&!this.options.star&&false!==this.options.slash&&(a=".*?");return this.emit(e+"))"+a+")"+r,t);case"*":case"+":case"?":return this.emit(")"+t.prefix+r,t);case"@":return this.emit(")"+r,t);default:var n=(true===this.options.bash?"\\":"")+")";return this.emit(n,t)}})).set("text",(function(t){var r=t.val.replace(/[\[\]]/g,"\\$&");return this.emit(r,t)}))};var u=p;var h={};var f=s;var v=i;var l=h;var m=l.cache=new v;l.arrayify=function(t){return Array.isArray(t)?t:[t]};l.memoize=function(t,r,e,a){var n=l.createKey(t+r,e);if(m.has(t,n))return m.get(t,n);var s=a(r,e);if(e&&false===e.cache)return s;m.set(t,n,s);return s};l.createKey=function(t,r){var e=t;if("undefined"===typeof r)return e;for(var a in r)e+=";"+a+"="+String(r[a]);return e};l.createRegex=function(t){var r={contains:true,strictClose:false};return f(t,r)};var g={};var x=a;var d=n;var y=h;var b="([!@*?+]?\\(|\\)|[*?.+\\\\]|\\[:?(?=.*\\])|:?\\])+";var w=y.createRegex(b);function parsers(t){t.state=t.state||{};t.use(x.parsers);t.parser.sets.paren=t.parser.sets.paren||[];t.parser.capture("paren.open",(function(){var t=this.parsed;var r=this.position();var e=this.match(/^([!@*?+])?\(/);if(e){var a=this.prev();var n=e[1];var s=e[0];var i=r({type:"paren.open",parsed:t,val:s});var o=r({type:"paren",prefix:n,nodes:[i]});if("!"===n&&"paren"===a.type&&"!"===a.prefix){a.prefix="@";o.prefix="@"}d(o,"rest",this.input);d(o,"parsed",t);d(o,"parent",a);d(i,"parent",o);this.push("paren",o);a.nodes.push(o)}})).capture("paren.close",(function(){var t=this.parsed;var r=this.position();var e=this.match(/^\)/);if(e){var a=this.pop("paren");var n=r({type:"paren.close",rest:this.input,parsed:t,val:e[0]});if(!this.isType(a,"paren")){if(this.options.strict)throw new Error('missing opening paren: "("');n.escaped=true;return n}n.prefix=a.prefix;a.nodes.push(n);d(n,"parent",a)}})).capture("escape",(function(){var t=this.position();var r=this.match(/^\\(.)/);if(r)return t({type:"escape",val:r[0],ch:r[1]})})).capture("qmark",(function(){var r=this.parsed;var e=this.position();var a=this.match(/^\?+(?!\()/);if(a){t.state.metachar=true;return e({type:"qmark",rest:this.input,parsed:r,val:a[0]})}})).capture("star",/^\*(?!\()/).capture("plus",/^\+(?!\()/).capture("dot",/^\./).capture("text",w)}g.TEXT_REGEX=b;g=parsers;var E=g;var k={};var R=o;var T=n;var z=t;var _=u;var q=E;function Extglob(t){this.options=z({source:"extglob"},t);this.snapdragon=this.options.snapdragon||new R(this.options);this.snapdragon.patterns=this.snapdragon.patterns||{};this.compiler=this.snapdragon.compiler;this.parser=this.snapdragon.parser;_(this.snapdragon);q(this.snapdragon);T(this.snapdragon,"parse",(function(t,r){var e=R.prototype.parse.apply(this,arguments);e.input=t;var a=this.parser.stack.pop();if(a&&true!==this.options.strict){var n=a.nodes[0];n.val="\\"+n.val;var s=n.parent.nodes[1];"star"===s.type&&(s.loose=true)}T(e,"parser",this.parser);return e}));T(this,"parse",(function(t,r){return this.snapdragon.parse.apply(this.snapdragon,arguments)}));T(this,"compile",(function(t,r){return this.snapdragon.compile.apply(this.snapdragon,arguments)}))}k=Extglob;var A=k;var C={};var M=t;var S=r;var $=e;var K=u;var X=E;var j=A;var G=h;var O=1024*64;function extglob(t,r){return extglob.create(t,r).output}extglob.match=function(t,r,e){if("string"!==typeof r)throw new TypeError("expected pattern to be a string");t=G.arrayify(t);var a=extglob.matcher(r,e);var n=t.length;var s=-1;var i=[];while(++s<n){var o=t[s];a(o)&&i.push(o)}if("undefined"===typeof e)return S(i);if(0===i.length){if(true===e.failglob)throw new Error('no matches found for "'+r+'"');if(true===e.nonull||true===e.nullglob)return[r.split("\\").join("")]}return false!==e.nodupes?S(i):i};extglob.isMatch=function(t,r,e){if("string"!==typeof r)throw new TypeError("expected pattern to be a string");if("string"!==typeof t)throw new TypeError("expected a string");if(r===t)return true;if(""===r||" "===r||"."===r)return r===t;var a=G.memoize("isMatch",r,e,extglob.matcher);return a(t)};extglob.contains=function(t,r,e){if("string"!==typeof t)throw new TypeError("expected a string");if(""===r||" "===r||"."===r)return r===t;var a=M({},e,{contains:true});a.strictClose=false;a.strictOpen=false;return extglob.isMatch(t,r,a)};extglob.matcher=function(t,r){if("string"!==typeof t)throw new TypeError("expected pattern to be a string");function matcher(){var e=extglob.makeRe(t,r);return function(t){return e.test(t)}}return G.memoize("matcher",t,r,matcher)};extglob.create=function(t,r){if("string"!==typeof t)throw new TypeError("expected pattern to be a string");function create(){var e=new j(r);var a=e.parse(t,r);return e.compile(a,r)}return G.memoize("create",t,r,create)};extglob.capture=function(t,r,e){var a=extglob.makeRe(t,M({capture:true},e));function match(){return function(t){var r=a.exec(t);return r?r.slice(1):null}}var n=G.memoize("capture",t,e,match);return n(r)};extglob.makeRe=function(t,r){if(t instanceof RegExp)return t;if("string"!==typeof t)throw new TypeError("expected pattern to be a string");if(t.length>O)throw new Error("expected pattern to be less than "+O+" characters");function makeRe(){var e=M({strictErrors:false},r);true===e.strictErrors&&(e.strict=true);var a=extglob.create(t,e);return $(a.output,e)}var e=G.memoize("makeRe",t,r,makeRe);if(e.source.length>O)throw new SyntaxError("potentially malicious regex detected");return e};extglob.cache=G.cache;extglob.clearCache=function(){extglob.cache.__data__={}};extglob.Extglob=j;extglob.compilers=K;extglob.parsers=X;C=extglob;var V=C;export default V;

