// opn@6.0.0 downloaded from https://ga.jspm.io/npm:opn@6.0.0/index.js

import t from"util";import p from"path";import r from"child_process";import e from"is-wsl";import a from"process";var o={};var s=a;const{promisify:i}=t;const n=p;const c=r;const l=e;const f=i(c.execFile);const wslToWindowsPath=async t=>{const{stdout:p}=await f("wslpath",["-w",t]);return p.trim()};o=async(t,p)=>{if("string"!==typeof t)throw new TypeError("Expected a `target`");p={wait:false,...p};let r;let e=[];const a=[];const o={};if(Array.isArray(p.app)){e=p.app.slice(1);p.app=p.app[0]}if("darwin"===s.platform){r="open";p.wait&&a.push("-W");p.app&&a.push("-a",p.app)}else if("win32"===s.platform||l){r="cmd"+(l?".exe":"");a.push("/c","start",'""',"/b");t=t.replace(/&/g,"^&");p.wait&&a.push("/wait");if(p.app){if(l&&p.app.startsWith("/mnt/")){const t=await wslToWindowsPath(p.app);p.app=t}a.push(p.app)}e.length>0&&a.push(...e)}else{if(p.app)r=p.app;else{const t=s.versions.electron||"android"===s.platform;r=t?"xdg-open":n.join(new URL(import.meta.url.slice(0,import.meta.url.lastIndexOf("/"))).pathname,"xdg-open")}e.length>0&&a.push(...e);if(!p.wait){o.stdio="ignore";o.detached=true}}a.push(t);"darwin"===s.platform&&e.length>0&&a.push("--args",...e);const i=c.spawn(r,a,o);if(p.wait)return new Promise((t,p)=>{i.once("error",p);i.once("close",r=>{r>0?p(new Error(`Exited with code ${r}`)):t(i)})});i.unref();return i};var m=o;export default m;

