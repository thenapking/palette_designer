// ret@0.1.15 downloaded from https://ga.jspm.io/npm:ret@0.1.15/lib/index.js

var e={};e={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};var t=e;var a={};var r=t;var INTS=function(){return[{type:r.RANGE,from:48,to:57}]};var WORDS=function(){return[{type:r.CHAR,value:95},{type:r.RANGE,from:97,to:122},{type:r.RANGE,from:65,to:90}].concat(INTS())};var WHITESPACE=function(){return[{type:r.CHAR,value:9},{type:r.CHAR,value:10},{type:r.CHAR,value:11},{type:r.CHAR,value:12},{type:r.CHAR,value:13},{type:r.CHAR,value:32},{type:r.CHAR,value:160},{type:r.CHAR,value:5760},{type:r.CHAR,value:6158},{type:r.CHAR,value:8192},{type:r.CHAR,value:8193},{type:r.CHAR,value:8194},{type:r.CHAR,value:8195},{type:r.CHAR,value:8196},{type:r.CHAR,value:8197},{type:r.CHAR,value:8198},{type:r.CHAR,value:8199},{type:r.CHAR,value:8200},{type:r.CHAR,value:8201},{type:r.CHAR,value:8202},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233},{type:r.CHAR,value:8239},{type:r.CHAR,value:8287},{type:r.CHAR,value:12288},{type:r.CHAR,value:65279}]};var NOTANYCHAR=function(){return[{type:r.CHAR,value:10},{type:r.CHAR,value:13},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233}]};a.words=function(){return{type:r.SET,set:WORDS(),not:false}};a.notWords=function(){return{type:r.SET,set:WORDS(),not:true}};a.ints=function(){return{type:r.SET,set:INTS(),not:false}};a.notInts=function(){return{type:r.SET,set:INTS(),not:true}};a.whitespace=function(){return{type:r.SET,set:WHITESPACE(),not:false}};a.notWhitespace=function(){return{type:r.SET,set:WHITESPACE(),not:true}};a.anyChar=function(){return{type:r.SET,set:NOTANYCHAR(),not:true}};var n={};var u=t;var s=a;var p="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";var o={0:0,t:9,n:10,v:11,f:12,r:13};n.strToChars=function(e){var t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g;e=e.replace(t,(function(e,t,a,r,n,u,s,l){if(a)return e;var v=t?8:r?parseInt(r,16):n?parseInt(n,16):u?parseInt(u,8):s?p.indexOf(s):o[l];var c=String.fromCharCode(v);/[\[\]{}\^$.|?*+()]/.test(c)&&(c="\\"+c);return c}));return e};n.tokenizeClass=function(e,t){var a=[];var r=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;var p,o;while(null!=(p=r.exec(e)))if(p[1])a.push(s.words());else if(p[2])a.push(s.ints());else if(p[3])a.push(s.whitespace());else if(p[4])a.push(s.notWords());else if(p[5])a.push(s.notInts());else if(p[6])a.push(s.notWhitespace());else if(p[7])a.push({type:u.RANGE,from:(p[8]||p[9]).charCodeAt(0),to:p[10].charCodeAt(0)});else{if(!(o=p[12]))return[a,r.lastIndex];a.push({type:u.CHAR,value:o.charCodeAt(0)})}n.error(t,"Unterminated character class")};n.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)};var l={};var v=t;l.wordBoundary=function(){return{type:v.POSITION,value:"b"}};l.nonWordBoundary=function(){return{type:v.POSITION,value:"B"}};l.begin=function(){return{type:v.POSITION,value:"^"}};l.end=function(){return{type:v.POSITION,value:"$"}};var c={};var i=n;var y=t;var h=a;var f=l;c=function(e){var t=0,a,r,n={type:y.ROOT,stack:[]},u=n,s=n.stack,p=[];var repeatErr=function(t){i.error(e,"Nothing to repeat at column "+(t-1))};var o=i.strToChars(e);a=o.length;while(t<a){r=o[t++];switch(r){case"\\":r=o[t++];switch(r){case"b":s.push(f.wordBoundary());break;case"B":s.push(f.nonWordBoundary());break;case"w":s.push(h.words());break;case"W":s.push(h.notWords());break;case"d":s.push(h.ints());break;case"D":s.push(h.notInts());break;case"s":s.push(h.whitespace());break;case"S":s.push(h.notWhitespace());break;default:/\d/.test(r)?s.push({type:y.REFERENCE,value:parseInt(r,10)}):s.push({type:y.CHAR,value:r.charCodeAt(0)})}break;case"^":s.push(f.begin());break;case"$":s.push(f.end());break;case"[":var l;if("^"===o[t]){l=true;t++}else l=false;var v=i.tokenizeClass(o.slice(t),e);t+=v[1];s.push({type:y.SET,set:v[0],not:l});break;case".":s.push(h.anyChar());break;case"(":var c={type:y.GROUP,stack:[],remember:true};r=o[t];if("?"===r){r=o[t+1];t+=2;"="===r?c.followedBy=true:"!"===r?c.notFollowedBy=true:":"!==r&&i.error(e,"Invalid group, character '"+r+"' after '?' at column "+(t-1));c.remember=false}s.push(c);p.push(u);u=c;s=c.stack;break;case")":0===p.length&&i.error(e,"Unmatched ) at column "+(t-1));u=p.pop();s=u.options?u.options[u.options.length-1]:u.stack;break;case"|":if(!u.options){u.options=[u.stack];delete u.stack}var R=[];u.options.push(R);s=R;break;case"{":var C=/^(\d+)(,(\d+)?)?\}/.exec(o.slice(t)),A,d;if(null!==C){0===s.length&&repeatErr(t);A=parseInt(C[1],10);d=C[2]?C[3]?parseInt(C[3],10):Infinity:A;t+=C[0].length;s.push({type:y.REPETITION,min:A,max:d,value:s.pop()})}else s.push({type:y.CHAR,value:123});break;case"?":0===s.length&&repeatErr(t);s.push({type:y.REPETITION,min:0,max:1,value:s.pop()});break;case"+":0===s.length&&repeatErr(t);s.push({type:y.REPETITION,min:1,max:Infinity,value:s.pop()});break;case"*":0===s.length&&repeatErr(t);s.push({type:y.REPETITION,min:0,max:Infinity,value:s.pop()});break;default:s.push({type:y.CHAR,value:r.charCodeAt(0)})}}0!==p.length&&i.error(e,"Unterminated group");return n};c.types=y;var R=c;const C=c.types;export default R;export{C as types};

