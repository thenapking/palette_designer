// vary@1.1.2 downloaded from https://ga.jspm.io/npm:vary@1.1.2/index.js

var r={};r=vary;r.append=append;var e=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function append(r,a){if("string"!==typeof r)throw new TypeError("header argument is required");if(!a)throw new TypeError("field argument is required");var n=Array.isArray(a)?a:parse(String(a));for(var t=0;t<n.length;t++)if(!e.test(n[t]))throw new TypeError("field argument contains an invalid header name");if("*"===r)return r;var i=r;var s=parse(r.toLowerCase());if(-1!==n.indexOf("*")||-1!==s.indexOf("*"))return"*";for(var o=0;o<n.length;o++){var p=n[o].toLowerCase();if(-1===s.indexOf(p)){s.push(p);i=i?i+", "+n[o]:n[o]}}return i}function parse(r){var e=0;var a=[];var n=0;for(var t=0,i=r.length;t<i;t++)switch(r.charCodeAt(t)){case 32:n===e&&(n=e=t+1);break;case 44:a.push(r.substring(n,e));n=e=t+1;break;default:e=t+1;break}a.push(r.substring(n,e));return a}function vary(r,e){if(!r||!r.getHeader||!r.setHeader)throw new TypeError("res argument is required");var a=r.getHeader("Vary")||"";var n=Array.isArray(a)?a.join(", "):String(a);(a=append(n,e))&&r.setHeader("Vary",a)}var a=r;const n=r.append;export default a;export{n as append};

