// split-string@3.1.0 downloaded from https://ga.jspm.io/npm:split-string@3.1.0/index.js

import e from"extend-shallow";var t={};var n=e;t=function(e,t,r){if("string"!==typeof e)throw new TypeError("expected a string");if("function"===typeof t){r=t;t=null}"string"===typeof t&&(t={sep:t});var i=n({sep:"."},t);var a=i.quotes||['"',"'","`"];var u;true===i.brackets?u={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(u=i.brackets);var o=[];var p=[];var s=[""];var l=i.sep;var f=e.length;var c=-1;var v;function expected(){if(u&&p.length)return u[p[p.length-1]]}while(++c<f){var g=e[c];var h=e[c+1];var d={val:g,idx:c,arr:s,str:e};o.push(d);if("\\"!==g){if(u&&u[g]){p.push(g);var x=expected();var k=c+1;if(-1!==e.indexOf(x,k+1))while(p.length&&k<f){var Q=e[++k];if("\\"!==Q)if(-1===a.indexOf(Q)){x=expected();if(p.length&&-1===e.indexOf(x,k+1))break;u[Q]?p.push(Q):x===Q&&p.pop()}else k=getClosingQuote(e,Q,k+1);else Q++}v=k;if(-1===v){s[s.length-1]+=g;continue}g=e.slice(c,v+1);d.val=g;d.idx=c=v}if(-1!==a.indexOf(g)){v=getClosingQuote(e,g,c+1);if(-1===v){s[s.length-1]+=g;continue}g=true===keepQuotes(g,i)?e.slice(c,v+1):e.slice(c+1,v);d.val=g;d.idx=c=v}if("function"===typeof r){r(d,o);g=d.val;c=d.idx}d.val!==l||false===d.split?s[s.length-1]+=d.val:s.push("")}else{d.val=true===keepEscaping(i,e,c)?g+h:h;d.escaped=true;"function"===typeof r&&r(d);s[s.length-1]+=d.val;c++}}return s};function getClosingQuote(e,t,n,r){var i=e.indexOf(t,n);return"\\"===e.charAt(i-1)?getClosingQuote(e,t,i+1):i}function keepQuotes(e,t){return true===t.keepDoubleQuotes&&'"'===e||(true===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function keepEscaping(e,t,n){return"function"===typeof e.keepEscaping?e.keepEscaping(t,n):true===e.keepEscaping||"\\"===t[n+1]}var r=t;export default r;

