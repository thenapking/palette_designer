// source-map-resolve@0.5.3 downloaded from https://ga.jspm.io/npm:source-map-resolve@0.5.3/source-map-resolve.js

import e from"source-map-url";import r from"resolve-url";import o from"process";var n={};var s=o;void function(o,s){var a=e;var u=r;n=s(a,u)}(n,(function(e,r){function callbackAsync(e,r,o){s.nextTick((function(){e(r,o)}))}function parseMapToJSON(e,r){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){e.sourceMapData=r;throw e}}function readSync(e,r,o){var n=r;try{return String(e(n))}catch(e){e.sourceMapData=o;throw e}}function resolveSourceMap(e,r,o,n){var s;try{s=resolveSourceMapHelper(e,r)}catch(e){return callbackAsync(n,e)}if(!s||s.map)return callbackAsync(n,null,s);var a=s.url;o(a,(function(e,r){if(e){e.sourceMapData=s;return n(e)}s.map=String(r);try{s.map=parseMapToJSON(s.map,s)}catch(e){return n(e)}n(null,s)}))}function resolveSourceMapSync(e,r,o){var n=resolveSourceMapHelper(e,r);if(!n||n.map)return n;n.map=readSync(o,n.url,n);n.map=parseMapToJSON(n.map,n);return n}var o=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/;var n=/^(?:application|text)\/json$/;var a="utf-8";function base64ToBuf(e){var r=atob(e);var o=r.length;var n=new Uint8Array(o);for(var s=0;s<o;s++)n[s]=r.charCodeAt(s);return n}function decodeBase64String(e){if("undefined"===typeof TextDecoder||"undefined"===typeof Uint8Array)return atob(e);var r=base64ToBuf(e);var o=new TextDecoder(a,{fatal:true});return o.decode(r)}function resolveSourceMapHelper(s,a){var u=e.getFrom(s);if(!u)return null;var t=u.match(o);if(t){var c=t[1]||"text/plain";var l=t[2]||"";var p=t[3]||"";var v={sourceMappingURL:u,url:null,sourcesRelativeTo:a,map:p};if(!n.test(c)){var i=new Error("Unuseful data uri mime type: "+c);i.sourceMapData=v;throw i}try{v.map=parseMapToJSON(";base64"===l?decodeBase64String(p):decodeURIComponent(p),v)}catch(i){i.sourceMapData=v;throw i}return v}var f=r(a,u);return{sourceMappingURL:u,url:f,sourcesRelativeTo:f,map:null}}function resolveSources(e,r,o,n,s){if("function"===typeof n){s=n;n={}}var a=e.sources?e.sources.length:0;var u={sourcesResolved:[],sourcesContent:[]};if(0!==a){var done=function(){a--;0===a&&s(null,u)};resolveSourcesHelper(e,r,n,(function(e,r,n){u.sourcesResolved[n]=e;if("string"===typeof r){u.sourcesContent[n]=r;callbackAsync(done,null)}else{var s=e;o(s,(function(e,r){u.sourcesContent[n]=e||String(r);done()}))}}))}else callbackAsync(s,null,u)}function resolveSourcesSync(e,r,o,n){var s={sourcesResolved:[],sourcesContent:[]};if(!e.sources||0===e.sources.length)return s;resolveSourcesHelper(e,r,n,(function(e,r,n){s.sourcesResolved[n]=e;if(null!==o)if("string"===typeof r)s.sourcesContent[n]=r;else{var a=e;try{s.sourcesContent[n]=String(o(a))}catch(e){s.sourcesContent[n]=e}}}));return s}var u=/\/?$/;function resolveSourcesHelper(e,o,n,s){n=n||{};var a;var t;var c;for(var l=0,p=e.sources.length;l<p;l++){c=null;"string"===typeof n.sourceRoot?c=n.sourceRoot:"string"===typeof e.sourceRoot&&false!==n.sourceRoot&&(c=e.sourceRoot);a=null===c||""===c?r(o,e.sources[l]):r(o,c.replace(u,"/"),e.sources[l]);t=(e.sourcesContent||[])[l];s(a,t,l)}}function resolve(e,r,o,n,s){if("function"===typeof n){s=n;n={}}if(null===e){var a=r;var u={sourceMappingURL:null,url:a,sourcesRelativeTo:a,map:null};var t=a;o(t,(function(e,r){if(e){e.sourceMapData=u;return s(e)}u.map=String(r);try{u.map=parseMapToJSON(u.map,u)}catch(e){return s(e)}_resolveSources(u)}))}else resolveSourceMap(e,r,o,(function(e,r){if(e)return s(e);if(!r)return s(null,null);_resolveSources(r)}));function _resolveSources(e){resolveSources(e.map,e.sourcesRelativeTo,o,n,(function(r,o){if(r)return s(r);e.sourcesResolved=o.sourcesResolved;e.sourcesContent=o.sourcesContent;s(null,e)}))}}function resolveSync(e,r,o,n){var s;if(null===e){var a=r;s={sourceMappingURL:null,url:a,sourcesRelativeTo:a,map:null};s.map=readSync(o,a,s);s.map=parseMapToJSON(s.map,s)}else{s=resolveSourceMapSync(e,r,o);if(!s)return null}var u=resolveSourcesSync(s.map,s.sourcesRelativeTo,o,n);s.sourcesResolved=u.sourcesResolved;s.sourcesContent=u.sourcesContent;return s}return{resolveSourceMap:resolveSourceMap,resolveSourceMapSync:resolveSourceMapSync,resolveSources:resolveSources,resolveSourcesSync:resolveSourcesSync,resolve:resolve,resolveSync:resolveSync,parseMapToJSON:parseMapToJSON}}));var a=n;export default a;

