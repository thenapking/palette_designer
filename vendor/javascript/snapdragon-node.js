// snapdragon-node@2.1.1 downloaded from https://ga.jspm.io/npm:snapdragon-node@2.1.1/index.js

import e from"isobject";import t from"define-property";import n from"snapdragon-util";var o={};var i=e;var r=t;var s=n;var d;function Node(e,t,n){if("string"!==typeof t){n=t;t=null}r(this,"parent",n);r(this,"isNode",true);r(this,"expect",null);if("string"!==typeof t&&i(e)){lazyKeys();var o=Object.keys(e);for(var s=0;s<o.length;s++){var p=o[s];-1===d.indexOf(p)&&(this[p]=e[p])}}else{this.type=t;this.val=e}}Node.isNode=function(e){return s.isNode(e)};Node.prototype.define=function(e,t){r(this,e,t);return this};Node.prototype.isEmpty=function(e){return s.isEmpty(this,e)};Node.prototype.push=function(e){assert(Node.isNode(e),"expected node to be an instance of Node");r(e,"parent",this);this.nodes=this.nodes||[];return this.nodes.push(e)};Node.prototype.unshift=function(e){assert(Node.isNode(e),"expected node to be an instance of Node");r(e,"parent",this);this.nodes=this.nodes||[];return this.nodes.unshift(e)};Node.prototype.pop=function(){return this.nodes&&this.nodes.pop()};Node.prototype.shift=function(){return this.nodes&&this.nodes.shift()};Node.prototype.remove=function(e){assert(Node.isNode(e),"expected node to be an instance of Node");this.nodes=this.nodes||[];var t=e.index;if(-1!==t){e.index=-1;return this.nodes.splice(t,1)}return null};Node.prototype.find=function(e){return s.findNode(this.nodes,e)};Node.prototype.isType=function(e){return s.isType(this,e)};Node.prototype.hasType=function(e){return s.hasType(this,e)};Object.defineProperty(Node.prototype,"siblings",{set:function(){throw new Error("node.siblings is a getter and cannot be defined")},get:function(){return this.parent?this.parent.nodes:null}});Object.defineProperty(Node.prototype,"index",{set:function(e){r(this,"idx",e)},get:function(){if(!Array.isArray(this.siblings))return-1;var e=-1!==this.idx?this.siblings[this.idx]:null;e!==this&&(this.idx=this.siblings.indexOf(this));return this.idx}});Object.defineProperty(Node.prototype,"prev",{set:function(){throw new Error("node.prev is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index-1]||this.parent.prev:null}});Object.defineProperty(Node.prototype,"next",{set:function(){throw new Error("node.next is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index+1]||this.parent.next:null}});Object.defineProperty(Node.prototype,"first",{get:function(){return this.nodes?this.nodes[0]:null}});Object.defineProperty(Node.prototype,"last",{get:function(){return this.nodes?s.last(this.nodes):null}});Object.defineProperty(Node.prototype,"scope",{get:function(){return true!==this.isScope&&this.parent?this.parent.scope:this}});function lazyKeys(){d||(d=Object.getOwnPropertyNames(Node.prototype))}function assert(e,t){if(!e)throw new Error(t)}o=o=Node;var p=o;export default p;

